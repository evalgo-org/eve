# EVE Distributed Tracing - Environment Variables
# Copy this file to .env and adjust values for your environment

# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgres://eve_user:eve_password@postgres:5432/eve_traces

# ============================================================================
# S3 Configuration
# ============================================================================
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=eve-traces
S3_REGION=us-east-1
S3_USE_PATH_STYLE=true

# ============================================================================
# Service Configuration
# ============================================================================
SERVICE_ID=example-service
PORT=8080
METRICS_PORT=9091
LOG_LEVEL=info

# ============================================================================
# Tracing Configuration
# ============================================================================
TRACING_ENABLED=true

# ============================================================================
# Async Export Configuration
# ============================================================================
ASYNC_EXPORT_ENABLED=true
ASYNC_EXPORT_QUEUE_SIZE=10000
ASYNC_EXPORT_BATCH_SIZE=100
ASYNC_EXPORT_WORKERS=4

# ============================================================================
# Sampling Configuration
# ============================================================================
SAMPLING_ENABLED=true
SAMPLING_BASE_RATE=0.1                    # 10% of normal traffic
SAMPLING_ALWAYS_SAMPLE_ERRORS=true        # Always sample failed requests
SAMPLING_ALWAYS_SAMPLE_SLOW=true          # Always sample slow requests
SAMPLING_SLOW_THRESHOLD_MS=5000           # Threshold for "slow" (5 seconds)

# ============================================================================
# OpenTelemetry Configuration (optional)
# ============================================================================
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
OTEL_SERVICE_NAME=example-service

# ============================================================================
# Archival Configuration (optional)
# ============================================================================
ARCHIVAL_ENABLED=false
ARCHIVAL_ARCHIVE_AFTER_DAYS=90
ARCHIVAL_DELETE_AFTER_DAYS=365
ARCHIVAL_S3_BUCKET=eve-traces
ARCHIVAL_S3_PREFIX=archived/
ARCHIVAL_GLACIER_CLASS=GLACIER            # or DEEP_ARCHIVE
ARCHIVAL_BATCH_SIZE=1000
ARCHIVAL_DRY_RUN=false

# ============================================================================
# GDPR Compliance (optional)
# ============================================================================
GDPR_ENABLED=false
PII_REDACTION_ENABLED=true
DATA_RESIDENCY_REGION=EU                  # or US, APAC

# ============================================================================
# Monitoring Configuration
# ============================================================================
PROMETHEUS_NAMESPACE=eve_tracing
METRICS_ENABLED=true
METRICS_PATH=/metrics
